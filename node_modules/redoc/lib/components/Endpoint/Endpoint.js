"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var common_elements_1 = require("../../common-elements");
var OptionsProvider_1 = require("../OptionsProvider");
var SelectOnClick_1 = require("../SelectOnClick/SelectOnClick");
var styled_elements_1 = require("./styled.elements");
var Endpoint = /** @class */ (function (_super) {
    __extends(Endpoint, _super);
    function Endpoint(props) {
        var _this = _super.call(this, props) || this;
        _this.toggle = function () {
            _this.setState({ expanded: !_this.state.expanded });
        };
        _this.state = {
            expanded: false,
        };
        return _this;
    }
    Endpoint.prototype.render = function () {
        var _a = this.props, operation = _a.operation, inverted = _a.inverted;
        var expanded = this.state.expanded;
        var hideHostname = this.props.hideHostname || this.options.hideHostname;
        // TODO: highlight server variables, e.g. https://{user}.test.com
        return (React.createElement(styled_elements_1.OperationEndpointWrap, null,
            React.createElement(styled_elements_1.EndpointInfo, { onClick: this.toggle, expanded: expanded, inverted: inverted },
                React.createElement(styled_elements_1.HttpVerb, { type: operation.httpVerb },
                    " ",
                    operation.httpVerb),
                ' ',
                React.createElement(styled_elements_1.ServerRelativeURL, null, operation.path),
                React.createElement(common_elements_1.ShelfIcon, { float: 'right', color: inverted ? 'black' : 'white', size: '20px', direction: expanded ? 'up' : 'down', style: { marginRight: '-25px' } })),
            React.createElement(styled_elements_1.ServersOverlay, { expanded: expanded }, operation.servers.map(function (server) { return (React.createElement(styled_elements_1.ServerItem, { key: server.url },
                React.createElement("div", null, server.description),
                React.createElement(SelectOnClick_1.SelectOnClick, null,
                    React.createElement(styled_elements_1.ServerUrl, null,
                        !hideHostname && React.createElement("span", null, server.url),
                        operation.path)))); }))));
    };
    return Endpoint;
}(OptionsProvider_1.ComponentWithOptions));
exports.Endpoint = Endpoint;
//# sourceMappingURL=Endpoint.js.map